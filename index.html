<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cátalogo de Filmes </title>
    <link rel="stylesheet" href="style.css">

</head>
<body>
     
    <h1>Cátalogo de Filmes</h1>

  <form id="cadastro-filme">
    <h2>Adicionar Novo Filme</h2>
    <div>
        <label for=>"Título do Filme"</label>
        <input type="text" id="título" required>
    </div>

    <div>
        <label for="sinopse">Sinopse:</label>
        <textarea id="sinopse" required></textarea>
    </div>

    <button type="submit">Adicionar Filme</button>
  </form>

 <hr>
   
    <h2>Minha Lista de Filmes</h2>

   <div id="lista-filmes">
      <p>Nenhum filme cadastrado ainda.</p>
   </div>

   <script>
      // 1. ARMAZENAMENTO DE DADOS
      // 2. Array global que irá guardar todos os filmes como objetos.
      // Ex: [{ título: 'Filme X', sinopse: 'Sinopse Y' }]
      const catalogo = [];

      // 2. CAPTURA DE ELEMENTOS DO DOM (Document Object Model)
      // Capturamos os elementos HTML que vamos interagir, usando seus IDs.
      const form = document.getElementById('cadastro-filme');
      const listaFilmesContainer = document.getElementById('lista-filmes');

      //----------------------------------------------------------------
      // FUNÇÃO DE REMOÇÃO
      //----------------------------------------------------------------
      /**
       *Remove um filme do array de dados e do elemento HTML na tela.
       * @param {number} indice - A posição do filme no array 'catálogo'.
       * @param {HTMLElement} elementoDOM - O elemento <div> do filme a ser removido da tela.
       */
    function removerFilme(indice, elementoDOM) {
        // A. REMOÇÃO DO ARRAY (Lógica) 
        // splice(indice, 1) remove 1 elemento a partir da posição 'indice'.
        // isso atualiza o array 'catalogo'.
        catalogo.splice(indice, 1);

        //B. REMOÇÃO DO DOM (Visual)
        //O método .remove() retira o elemento HTML da visualização do usuário.
        elementoDOM.remove();

        // Opcional: Atualiza a mensagem da lista se estiver vazia
        if (catalogo.length === 0) {
           listaFilmesContainer.innerHTML = '<p>Nenhum filme cadastrado ainda.</p>';
    }
    console.log(`Filme no indice ${indice} removido. Catálogo atualizado:`, catalogo);
}
    //-------------------------------------------------------------------------------
    //FUNÇÃO DE RENDERIZAÇÃO
    //-------------------------------------------------------------------------------
    //**
    //Cria e exibe a estrutura HTML de um filme na lista. 
    //@param {Object} filme - O objeto (titulo, sinopse) do filme.
    //@param {number} indice O indice atual do filme no array catalogo
   function renderizarFilme (filme, indice) {
   // Remove a mensagem inicial se for o primeiro filme
   if (catalogo.length === 1) {
     listaFilmesContainer.innerHTML = '';
  } 

    // A. CRIAÇÃO DE ELEMENTOS HTML (document.createElement)

    // Cria a <div> que ser a container de cada filme.
    const filmeDiv = document.createElement('div');
    FilmeDiv.classList.add('filme-item'); // Adiciona uma classe para estilização]

    // Cria o <h3> para o titulo e define seu texto.
    const tituloH3 = document.createElement('h3');
     tituloH3.textContent = filme.titulo;

     // Cria o <p> para a sinopse e define seu texto.
    const sinopseP = document.createElement('p');
    sinopseP.textContent = filme.sinopse;

    // Cria o botão de remoção.
    const removerBotao = document.createElement('button');
    removerBotao.textContent = 'Remover';
    removerBotao.classList.add('btn-remover');

    //B. DEFINIÇÃO DO EVENTO DE REMOÇÃO (addEventListener)
    // Anexa a função 'removerfilme' ao clique do botão.
    removerBotao.addEventListener('click', () => {
      // Ao clicar, chamamos a função, passando o indice (posição) e a própria <div> (filmeDiv).
     removerFilme(indice, filmeDiv);
 });
    
    //C. ANEXAR ELEMENTOS (appendChild)
    // Monta a estrutura hierárquica:
    
}

   </script>

</body>
</html>